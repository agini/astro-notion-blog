---
import type { SelectProperty } from '../lib/interfaces.ts'
import { getTagLink } from '../lib/blog-helpers.ts'
import NoContents from './NoContents.astro'
import '../styles/notion-color.css'

export interface Props {
  heading: string
  tags: SelectProperty[]
}

const { heading, tags } = Astro.props
---

<div class="blog-tags-link">
  <h2>{heading}</h2>
  {
    tags.length === 0 ? (
      <NoContents contents={tags} />
    ) : (
      <ul>
        {tags.map((tag: SelectProperty) => (
          <li>
            <a href={getTagLink(tag.name)} class={`tag ${tag.color}`}>
              {tag.name}
            </a>
          </li>
        ))}
      </ul>
    )
  }
</div>

<style>
  .blog-tags-link {
    backdrop-filter: blur(2px);
  }
  
  .blog-tags-link h2 {
    font-size: 0.65rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    margin-bottom: 0.5rem;
  }

  .blog-tags-link ul {
    background: rgba(6, 14, 22, 0.65); /* 白を完全排除 */
    list-style-type: none;
    padding-left: 0.25rem;
    margin-top: 0.5rem;
    margin-block-end: 1rem;
  }
  
  .blog-tags-link ul li {
    background: rgba(5, 12, 18, 0.55); /* ← 背景より明確に暗い */
    border-left: 3px solid rgba(79,195,247,0.5);
    padding: 0.45rem 0.6rem;
    margin-bottom: 0.35rem;
  }


  .blog-tags-link ul li a {
    background: transparent; /* ← 念のため */
    color: #eaf4ff; /* 白寄り */
    font-weight: 500;
  }

  .blog-tags-link ul li:hover {
    background: rgba(10, 25, 40, 0.85);
    border-left-color: #4fc3f7;
  }

  @media (max-width: 640px) {
    .blog-tags-link ul li {
      border-left-width: 3px;
    }
  }

</style>
